#include "Game.h"
#include "MetaballRenderer.h"

// =======================================================================================
// コンストラクタでメタボール描画専用のレンダラーを初期化する
// =======================================================================================
Game::Game()
{
    m_renderer = std::make_unique<MetaballRenderer>();
    if (m_renderer && !m_renderer->Initialize())
    {
        // 初期化に失敗した場合は安全のため解放しておく
        m_renderer.reset();
    }
}

// =======================================================================================
// レイマーチング用パラメーターを更新する
// =======================================================================================
void Game::Update(float deltaTime)
{
    if (m_renderer)
    {
        m_renderer->Update(deltaTime);
    }
}

// =======================================================================================
// フルスクリーントライアングルでメタボールを描画する
// =======================================================================================
void Game::Render()
{
    if (m_renderer)
    {
        m_renderer->Render();
    }
}
